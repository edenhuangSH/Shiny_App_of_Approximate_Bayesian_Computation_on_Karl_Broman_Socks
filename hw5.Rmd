---
title: "Homework 5 Writeup"
---
## Task 1 Writeup

In task 1, we used shiny package in R to create a web app that will allow the users to specify different priors and parameterizations and analyze the data distribution. 
First we defining UI for application that draws a histogram. `fluidpage` function will help us to create a fluid page, which consists of rows which in turn concludes columns. Inside this function, we first use `titlePanel` to create a panel which contain an application title, in this case is "Approximate Computing with Socks". After create the panel, we use `sidebarLayout` which is a function that create a layout with a sidebar and main area, and by using `sidebarPanel` which is a sidebar with a slider input, so that we can input the socks parameters. So we first use `sidebarInput ` for inputting our priors, which are Prior Mean Number of Socks, Prior Std Deviation of Socks, Prior Fraction of Paired Socks, Prior Std Deviation of Paired Socks and Number of Socks Picked. 
After use `sliderinput` to input the socks parameters, we use `mainPanel` to show description of this web app, and also to show the generated distribution, and we put the description and distribution graphs in different tabs. 
For creating a tabset that contains `tabPanel` elements (in this case is Description, Prior Plots and Posterior plots), we use `tabsetPanel`. Under `tabsetPanel`, we use `tabPanel` to create 3 tab panels that can be included within a `tabsetPanel`. Inside the "Description" tabPanel, we used `htmlOutput` function, which is a function that crete an HTML output element. `actionButton` helps to create an action button or link whose value is initially 0, and increments by one each time it is passed. We also used `conditionalPanel` to create a panel that is will be showed if show_button is clicked more than 0 time, which means once the show_button is hit, it will show the answer.

Then we create a server function to define server logic required to simulate socks and draw a density plot. 
In the "sock_sim"", we use `reactive` function so that when the input value is changed, we don't need to change the code, but the input is passed to the server function and it will help us access the web page's user input fields, and it will read the reactive value, so that we do not need to write code to monitor when the inputs change. Also, we set to generate 10,000 samples.
Our input parameters are prior_mean, prior_sd, n_pick, frac_pair and sig_pair, which are prior mean nimer of socks, prior standard deviation of the mean, prior fraction of paired socks, prior standard deviation of the fraction and number of socks picked. After state the input parameters, we have some formulas to do the calculations. First, we calculate the prior size, and we get the formula to calculate the size from website [tiny data and the socks of karl broman](http://www.sumsar.net/blog/2014/10/tiny-data-and-the-socks-of-karl-broman/). We also get the formula for α and β parameters for a Beta distribution from website [Beta distribution parameter calculation](http://stats.stackexchange.com/questions/12232/calculating-the-parameters-of-a-beta-distribution-using-the-mean-and-variance). Then, we generate a sample of the parameters from the priors. The parameters are `n_socks`, which is the number of socks in Karl Broman’s laundry; `frac_pairs`, which is proportion of socks that come in pairs; `n_pairs` which is the number of paired socks and `n_odd`, which is the number of unpaired socks in the laundry. Then, we are going to create a vector of socks, that represented as integers, and each pair/singleton is given a unique number by using `rep()` function. We also simulate picking out `n_picked` socks and count the number of sock pairs and unique socks. Finally, we use a vector to return the parameters and counts of the number of matched and unique socks among those that were picked out. 

After this, in order to turn the simulated samples sock_sim into posterior samples, we need to throw away those simulations that resulted in simulated data that doesn’t match the actual data, so we remove all simulated samples which does not match this.

Then we use `renderPlot` which is a function that render a reactive plot that is suitable for assigning to an output slot. We plot a nbinom distribution for Negative Binomial Prior, plot prior beta distribution and plot a posterior density of the numbers of socks for Posterior Distribution of Socks. Additionally, we use `renderPrint` for create a summary table for showing the min, quntile, max, median and mean for the post data. Also, the output includes the description for the webapp using `renderUI` and answer for the socks_button using `renderText`. 

Finally, we use `shinyApp` to run the application.

## Task 2 Writeup

In this problem, we ....